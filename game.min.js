function storyTextReset(){storyModeTextBlock.text=" --- IN A SECRET LABORATORY ---\n			[TRAINEE]\nHey Prof. What are you searching for in the laboratory number 4?\n			[PROFESSOR]\nPsst! Shut up you little Trainee.\nDon't speak too loud about this thing!\nWe got a female monster, it's very bloody,\nand we caged it into a human body.\nThere, it isn't dangerous anymore:\nno blood, no intrails, and no gore.\nWe're not doing this just for science you know.\nIt is for humanity, for every class, above and below.\n			[TRAINEE]\nBut isn't it dangerous to cage this thing?\nThere could be other monsters to free them!\n			[PROFESSOR]\nDon't be ridiculus, other monsters don't exist.\n --- THIS IS WHERE YOUR STORY BEGINS ---",storyModeTextBlock.style={fill:"#FFFFFF",font:"20px 'Bree Serif'",align:"left"},storyModeTextBlock.position.set(50,26),storyModeTextBlock.anchor={x:0,y:0}}function drawHealth(){hbc.x=0,hbc.y=0,hbc.lineStyle(10,5395026,1),hbc.moveTo(width-15,5),hbc.lineTo(width-15,height-5),hb.x=0,hb.y=0,hb.lineStyle(6,1933594,1),hb.moveTo(width-15,(100-health)/100*(height-14)+7),hb.lineTo(width-15,height-7)}function setup(){bg0=new PIXI.Sprite.fromImage("Images/Backgrounds/BackgroundPics/easy.png"),bg0.x=0,bg0.y=0,bg0.visible=!1,bg2noise=new PIXI.Sprite.fromImage("Images/noise.png"),bg2noise.x=0,bg2noise.y=0,bg2noise.visible=!1,topC.addChild(bg2noise),bg1=new PIXI.Sprite.fromImage("Images/Backgrounds/BackgroundPics/normal.png"),bg1.x=0,bg1.y=0,bg1.visible=!0,bg2=new PIXI.Sprite.fromImage("Images/Backgrounds/BackgroundPics/hard.png"),bg2.x=0,bg2.y=0,bg2.visible=!1,bgC.addChild(bg0),bgC.addChild(bg1),bgC.addChild(bg2),monster1=new PIXI.Sprite.fromImage("Images/creatures/monster1.png"),monster1.pivot.x=.5,monster1.pivot.y=.5,playC.addChild(monster1);for(var t=10,e=600,i={x:.75,y:.75},s=0;s<cps.length;s++)creditPics[s]=new PIXI.Sprite.fromImage(cps[s]),creditPics[s].scale=i,creditPics[s].position.set(t+s/(cps.length-3)*(width-3*t-e),10*s+t),creditPics[s].visible=!1,creditsC.addChild(creditPics[s]);escapeKey.press=function(){changeState(menu)};for(var o=[[new PIXI.Sprite.fromImage("Images/buttons/story.png"),function(t){changeState(story)}],[new PIXI.Sprite.fromImage("Images/buttons/easy.png"),function(t){hardness=0,changeState(play)}],[new PIXI.Sprite.fromImage("Images/buttons/normal.png"),function(t){hardness=1,changeState(play)}],[new PIXI.Sprite.fromImage("Images/buttons/hard.png"),function(t){hardness=2,changeState(play)}],[new PIXI.Sprite.fromImage("Images/buttons/endless.png"),function(t){hardness=3,changeState(play)}]],s=o.length-1;s>=0;s--)menuSprites[s]=o[s][0],menuSprites[s].interactive=!0,menuSprites[s].click=o[s][1],menuSprites[s].anchor.x=.5,menuSprites[s].anchor.y=.5,menuSprites[s].position.set(renderer.width/2,64+s/o.length*400),menuC.addChild(menuSprites[s]);stage.interactive=!0,stage.click=function(t){sprint()},soundToggle=new PIXI.Sprite.fromImage("Images/buttons/sound.png"),soundToggle.interactive=!0,soundToggle.click=function(t){soundmult=abs(soundmult-1),refreshSounds()},soundToggle.position.set(10,36),musicToggle=new PIXI.Sprite.fromImage("Images/buttons/music.png"),musicToggle.interactive=!0,musicToggle.click=function(t){musicmult=abs(musicmult-1),refreshMusic()},musicToggle.position.set(10,110),menuC.addChild(soundToggle),menuC.addChild(musicToggle),creditButton=new PIXI.Sprite.fromImage("Images/buttons/credits.png"),creditButton.interactive=!0,creditButton.click=function(t){changeState(credit)},creditButton.position.set(10,184),menuC.addChild(creditButton),changeState(menu),gameloop()}function gameloop(){requestAnimationFrame(gameloop),mousePos=renderer.plugins.interaction.mouse.global,state(),renderer.render(stage)}function creditPictures(){creditPics[creditUnroll].visible=!0,nextTimeOut=window.setTimeout(function(){creditPictures()},timers[creditUnroll]),creditUnroll+=1}function credit(){}function menu(){}function end(){}function play(){drawHealth();var t=-Math.atan((monster1.x-mousePos.x)/(monster1.y-mousePos.y)),e=vecDist(mousePos,monster1),i="";if(e>5){e>225&&(e=225);var s=Math.sqrt(e/225),o=normalize(diff(mousePos,monster1));s=1,3==hardness?monster1.position.set(monster1.x+s*o.x*(monsterBoost+score/100),monster1.y+s*o.y*(monsterBoost+score/100)):monster1.position.set(monster1.x+s*o.x*(monsterBoost+score/goals[hardness]),monster1.y+s*o.y*(monsterBoost+score/goals[hardness]))}monster1.x<0?monster1.x=0:monster1.x>width&&(monster1.x=width),monster1.y<0?monster1.y=0:monster1.y>height&&(monster1.y=height),i+="\nScore: "+score,i+="\nHealth: "+health,i+="\nGoal: "+goals[hardness],monster1.rotation=t,mousePos.y>monster1.y&&(monster1.rotation=t+3.1415),debug(i),score>=goals[hardness]&&goals[hardness]>0&&win(),0>=health&&lose()}function sprint(t){if(state==play&&health>0&&score>0){score-=1;var e=monster1.rotation;if(vecDist(monster1,mousePos)<jumplength){var i=diff(monster1,mousePos);monster1.x-=.8*i.x,monster1.y-=.8*i.y}else e>1.57075?(monster1.x+=Math.sin(monster1.rotation)*jumplength,monster1.y+=Math.cos(monster1.rotation)*-jumplength):(monster1.x+=Math.sin(monster1.rotation)*jumplength,monster1.y+=Math.cos(monster1.rotation)*-jumplength)}}function win(){fullScreenText.text="You win.\nYou found love!",hitescp.text="Hit [ESCAPE] to return to the menu";for(var t=policeArray.length-1;t>=0;t--)policeArray[t].die()}function lose(){playC.visible=!1,fullScreenText.text="You lose.\nYou were shot down!",hitescp.text="Hit [ESCAPE] to return to the menu";for(var t=policeArray.length-1;t>=0;t--)policeArray[t].die()}function story(){}function enemyBehaviour(){if(state!=play){for(var t=casultArray.length-1;t>=0;t--)playC.removeChild(casultArray[t].currSprite);for(var t=childArray.length-1;t>=0;t--)childArray[t].die()}for(var t=casultArray.length-1;t>=0;t--){var e=casultArray[t].update();void 0!=e&&(casultArray[t]=e)}for(var t=policeArray.length-1;t>=0;t--){var e=policeArray[t].update();void 0!=e&&(policeArray[t]=e)}for(var t=childArray.length-1;t>=0;t--){var e=childArray[t].update();void 0!=e&&(childArray[t]=e)}for(var t=tankArray.length-1;t>=0;t--)tankArray[t].update()}function Tank(){var t=this,e={x:.5,y:.5},i={x:.7,y:.7};this.baseSprite=new PIXI.Sprite.fromImage("Images/creatures/tank_base.png"),this.topSprite=new PIXI.Sprite.fromImage("Images/creatures/tank.png"),this.bottomrotation=void 0,this.baseSprite.anchor=e,this.baseSprite.pivot=e,this.baseSprite.scale=i,this.topSprite.scale=i,this.topSprite.anchor=e,this.topSprite.pivot=e,this.cooldown=10,this.invicfram=0,this.respawn=function(){this.x=rint(0,width),this.y=rint(-32,-20),Math.Random>.5&&(this.y=-this.y),this.vx=rint(-2,2),this.vy=rint(-2,2),this.bottomrotation=-Math.atan(this.vx/this.vy),this.vy>0&&(this.bottomrotation+=3.1415),this.baseSprite.rotation=this.bottomrotation},this.shoot=function(){var e=normalize(diff(monster1,t)),i=16*Math.sin(this.topSprite.rotation),s=16*Math.cos(this.topSprite.rotation);new Shot(this.x+i,this.y-s,6*e.x,6*e.y,-300),new Shot(this.x+i,this.y-s,6*e.x,6*e.y,-300),new Shot(this.x+i,this.y-s,6*e.x,6*e.y,-300)},this.unload=function(){playC.removeChild(this.topSprite),playC.removeChild(this.baseSprite)},this.move=function(){this.x+=this.vx,this.y+=this.vy,this.topSprite.position.set(this.x,this.y),this.baseSprite.position.set(this.x,this.y),this.cooldown<=0&&score>0&&this.x>32&&this.x<width-32&&this.y<height-32&&this.y>32&&(this.cooldown=100,this.shoot())},this.turn=function(){var t=normalize(diff(monster1,this)),e=-Math.atan(t.x/t.y);t.y>0&&(e+=3.1415),this.topSprite.rotation=e},this.update=function(){this.turn(),this.move(),(this.x>width+32||this.x<-32||this.y>height+32||this.y<-32)&&this.respawn(),vecDist(this,monster1)<30&&this.invicfram<=0&&(health-=20,this.invicfram=20),this.cooldown-=1,this.invicfram-=1},this.respawn(),playC.addChild(this.baseSprite),playC.addChild(this.topSprite)}function Child(){var t=this;this.die=function(){return playC.removeChild(this.sprite),new Child},this.update=function(){return this.sprite.x+=this.vx,this.sprite.y+=this.vy,(this.sprite.x>width+32||this.sprite.x<-32||this.sprite.y>height+32||this.sprite.y<-32)&&this.put(),vecDist(monster1,this.sprite)<32?(score+=1,state==play&&eatSound.play(),this.die()):void 0},this.selectNewWay=function(){var e=diff(this.sprite,monster1);t.vx=20/(abs(e.x)+3)+rint(-1,1)*t.speed,t.vy=20/(abs(e.y)+3)+rint(-1,1)*t.speed,window.setTimeout(function(){t.selectNewWay()},1e3+rint(10,1e3)),this.face()},this.face=function(){var t=-Math.atan(this.vx/this.vy);this.vy>0&&(t+=3.1415),this.sprite.rotation=t},this.put=function(){this.sprite.x=rint(0,width),this.sprite.y=rint(-20,-16),Math.random()>.5&&(this.sprite.y=height+32+rint(-20,-16))},this.speed=3,this.sprite=new PIXI.Sprite.fromImage("Images/creatures/child1.png"),this.sprite.anchor={x:.5,y:.5},this.sprite.pivot={x:.5,y:.5},this.sprite.scale={x:.45,y:.45},this.vx=0,this.vy=0,this.put(),this.selectNewWay(),playC.addChild(this.sprite)}function Shot(t,e,i,s,o){void 0===o&&(o=0),this.damage=10,this.x=t,this.y=e,this.vx=i,this.vy=s;var n=this;this.line=new PIXI.Graphics,this.move=function(){this.line.lineStyle(5,14245899,1),this.line.moveTo(this.x,this.y),this.x+=this.vx,this.y+=this.vy,this.line.lineTo(this.x,this.y),playC.addChild(this.line),vecDist(this,monster1)<27?(health-=this.damage,state==play&&(hitSound.play(),0>=health&&endSound.play())):300>o&&window.setTimeout(function(){new Shot(n.x,n.y,n.vx,n.vy,o+Math.sqrt(n.vx*n.vx+n.vy*n.vy))},30),window.setTimeout(function(){playC.removeChild(n.line)},200)},this.move()}function Police(){var t=this;this.circle=rint(-2,2),this.comfort=rint(-20,20),this.update=function(){this.sprites.shoot.position.set(this.x,this.y),this.lookAtMonster(this.sprites.shoot);var t=vecDist(this,monster1),e=normalize(diff(this,monster1));if(t>250+this.comfort)this.x-=e.x,this.y-=e.y;else if(t<150+this.comfort)this.x+=200*e.x/t,this.y+=200*e.y/t;else{var i={x:-e.y*this.circle,y:e.x*this.circle};this.x+=i.x,this.y+=i.y}},this.setShoot=function(t){return t==this.shooting?void 0:(this.shooting=t,void this.shoot())},this.shoot=function(){if(t.shooting){if(score>0&&state==play){shootSound.play();var e=normalize(diff(monster1,t));new Shot(t.x+14.284*Math.sin(t.sprites.shoot.rotation-.785375),t.y+14.284*Math.cos(t.sprites.shoot.rotation-.785375),e.x*t.shotTravelSpeed,e.y*t.shotTravelSpeed)}window.setTimeout(function(){t.shoot()},3e3+rint(10,1e3))}},this.lookAtMonster=function(t){var e=normalize(diff(monster1,t)),i=-Math.atan(e.x/e.y);t.y<monster1.y&&(i+=3.1415),t.rotation=i},this.die=function(){this.setShoot(!1),playC.removeChild(this.sprites.shoot),playC.removeChild(this.sprites.walk)},this.init=function(){this.shotTravelSpeed=5,this.x=rint(0,width),this.y=rint(0,height),this.shooting=!1,this.setShoot(!0),this.sprites={shoot:new PIXI.Sprite.fromImage("Images/creatures/police1.png"),walk:new PIXI.Sprite.fromImage("Images/creatures/police1.png")},this.sprites.shoot.pivot={x:.5,y:.5},this.sprites.shoot.anchor={x:.5,y:.5},this.sprites.shoot.scale={x:.5,y:.5},this.sprites.walk.pivot={x:.5,y:.5},this.sprites.walk.amchor={x:.5,y:.5},this.sprites.walk.scale={x:.5,y:.5},playC.addChild(this.sprites.shoot)},this.init()}function Woman(t,e){endSound.play(),score+=1,health=100,this.sprite=new PIXI.Sprite.fromImage("Images/creatures/love1.png"),this.sprite.x=t,this.sprite.y=e,this.sprite.anchor={x:.5,y:.5},this.sprite.pivot={x:.5,y:.5},this.lookAtMonster=function(){var t=normalize(diff(monster1,this.sprite)),e=-Math.atan(t.x/t.y);this.sprite.y<monster1.y&&(e+=3.1415),this.sprite.rotation=e+3.1415},this.update=function(){if(this.lookAtMonster(),vecDist(this.sprite,monster1)>70){var t=normalize(diff(this.sprite,monster1));this.sprite.x-=3*t.x,this.sprite.y-=3*t.y}},playC.addChild(this.sprite)}function Casult(){this.newVelo=function(){this.vx=rint(-this.speed,this.speed),this.vy=rint(-this.speed,this.speed)},this.x=rint(-32,-8),this.y=rint(-32,height+32),Math.random()>.5&&(this.x=rint(width+8,width+32)),this.speed=1.5,this.newVelo(),this.sprites=[new PIXI.Sprite.fromImage("Images/creatures/grand1.png")],this.animframe=0,this.currSprite,this.update=function(){try{playC.removeChild(currSprite)}catch(t){}this.animframe=(this.animframe+1)%this.sprites.length,this.currSprite=this.sprites[this.animframe],playC.addChild(this.currSprite),this.lookangle=-Math.atan(this.vx/this.vy),this.vy>0&&(this.lookangle+=3.1415),this.currSprite.rotation=this.lookangle,this.x+=this.vx,this.y+=this.vy,this.currSprite.position.set(this.x,this.y);var e=vecDist(this,monster1);if(this.x<-32||this.x>width+32||this.y<-32||this.y>height+32)return playC.removeChild(this.currSprite),new Casult;if(30>e)return playC.removeChild(this.currSprite),score==goals[hardness]-1?new Woman(this.x,this.y):(state==play&&eatSound.play(),score+=1,new Casult);if(100>e){var i=normalize(diff(monster1,this));this.vx=i.x*rint(-this.speed/3,-this.speed),this.vy=i.y*rint(-this.speed/3,-this.speed)}};for(var t=this.sprites.length-1;t>=0;t--)this.sprites[t].scale={x:.5,y:.5},this.sprites[t].anchor={x:.5,y:.5},this.sprites[t].pivot={x:.5,y:.5};return this.update()}function changeState(t){if(bg2noise.visible=!1,state==menu&&selectSound.play(),state!=t){if(t==menu&&(menuSound.play(),debug(""),menuC.visible=!0,bg1.visible=!0,bg0.visible=!1,bg2.visible=!1),t==story&&(bg1.visible=!1,versionText.visible=!1,storySound.stop(),storySound.play(),storyModeText.play(),storyC.visible=!0),t==play){for(safeframecount=20,0==hardness?(bg0.visible=!0,bg1.visible=!1,bg2.visible=!1):1==hardness||3==hardness?(bg1.visible=!0,bg0.visible=!1,bg2.visible=!1):2==hardness&&(bg0.visible=!1,bg1.visible=!1,bg2.visible=!0,bg2noise.visible=!0),playSound.stop(),enemyBehaviour(),score=0,health=100,monster1.anchor.x=.5,monster1.anchor.y=.5,monster1.position.set(renderer.width/2,renderer.height/2),playSound.play(),playC.visible=!0,enemyLogic=window.setInterval(function(){enemyBehaviour()},50),e=0;e<numPolice[hardness];e++)policeArray[e]=new Police;for(e=0;e<numCasult[hardness];e++)void 0!=casultArray[e]&&playC.removeChild(casultArray[e].currSprite),casultArray[e]=new Casult;for(e=0;e<numChildren[hardness];e++)childArray[e]=new Child;for(e=0;e<numTanks[hardness];e++)tankArray[e]=new Tank}if(t==credit&&(creditUnroll=0,bg2.visible=!0,bg1.visible=!1,creditsC.visible=!0,0!=musicmult&&creditsSong.play(),creditPictures()),state==credit){creditsSong.stop(),creditsC.visible=!1,clearTimeout(nextTimeOut);for(var e=creditPics.length-1;e>=0;e--)creditPics[e].visible=!1}if(state==menu&&(menuSound.fadeOut(1e3),menuC.visible=!1),state==story&&(storySound.fadeOut(1e3),storyModeText.stop(),storyC.visible=!1,versionText.visible=!0),state==play){playSound.fadeOut(1e3),playC.visible=!1,fullScreenText.text="",hitescp.text="";for(var e=policeArray.length-1;e>=0;e--)policeArray[e].die();for(var e=tankArray.length-1;e>=0;e--)tankArray[e].unload()}refreshMusic(),state=t}}function debug(t){debugText.text=t}function diff(t,e){return{x:t.x-e.x,y:t.y-e.y}}function normalize(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return{x:t.x/e,y:t.y/e}}function vecDist(t,e){var i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)}function refreshSounds(){eatSound.volume(.3*soundmult),selectSound.volume(.2*soundmult),endSound.volume(.1*soundmult),shootSound.volume(.1*soundmult),hitSound.volume(.1*soundmult),0==soundmult?soundToggle.rotation=.2:soundToggle.rotation=0}function refreshMusic(){menuSound.volume(menuSoundVolume*musicmult),playSound.volume(playSoundVolume*musicmult),storySound.volume(storySoundVolume*musicmult),0==musicmult?musicToggle.rotation=.2:musicToggle.rotation=0}var width=800,height=450,rendererStyle={antialiasing:!1,transparent:!1,resolution:1},renderer=PIXI.autoDetectRenderer(width,height,rendererStyle),stage=new PIXI.Container,bgC=new PIXI.Container;stage.addChild(bgC);var defaultTextStyle={font:"16px 'Bree Serif'",fill:"#FFFFFF",align:"center"},version="v_ld: 004_33",versionText=new PIXI.Text(version,defaultTextStyle),debugText=new PIXI.Text("",{font:"16px 'Bree Serif'",fill:"#3F3F3F"});debugText.anchor.y=1,debugText.position.set(10,height-10);var fullScreenText=new PIXI.Text("",{font:"60px 'Bree Serif'",fill:"#FFFFFF",align:"center"});fullScreenText.anchor.x=.5,fullScreenText.anchor.y=1,fullScreenText.position.set(width/2,height/2);var hitescp=new PIXI.Text("",{font:"20px 'Bree Serif'",fill:"#FFFFFF",align:"center"});hitescp.anchor.x=.5,hitescp.anchor.y=-.5,hitescp.position.set(width/2,height/2),stage.addChild(fullScreenText),stage.addChild(hitescp),stage.addChild(debugText),versionText.position.set(10,10),stage.addChild(versionText),renderer.backgroundColor=0,document.getElementById("game").appendChild(renderer.view);var creditText=new PIXI.Text('Game by\nMarkus "Tibyte" Becker - Code, Graphics\nMalloth Rha - Music, Graphics',{font:"20px 'Bree Serif'",fill:"#000000",align:"center"});creditText.position.set(width/2,height-10),creditText.anchor={x:.5,y:1};var menuC=new PIXI.Container,playC=new PIXI.Container,storyC=new PIXI.Container,creditsC=new PIXI.Container,topC=new PIXI.Container,monsterBoost=1.1,escapeKey=keyboard(27),pointCheat=keyboard(80);pointCheat.press=function(){health-=10},creditsC.addChild(creditText),menuC.visible=!1,playC.visible=!1,storyC.visible=!1,creditsC.visible=!1;var hardness=0,goals=[20,50,200,-1],soundmult=1,musicmult=1,score=0,health=100;stage.addChild(menuC),stage.addChild(playC),stage.addChild(storyC),stage.addChild(creditsC),stage.addChild(topC);var state,enemyLogic,cps=["Images/Backgrounds/EndingPhotos/endingpic1.png","Images/Backgrounds/EndingPhotos/endingpic2.png","Images/Backgrounds/EndingPhotos/endingpic3.png","Images/Backgrounds/EndingPhotos/endingpic4.png","Images/Backgrounds/EndingPhotos/endingpic5.png","Images/Backgrounds/EndingPhotos/endingpic6.png","Images/Backgrounds/EndingPhotos/endingpic7.png"];PIXI.loader.add("Images/buttons/story.png").add("Images/buttons/easy.png").add("Images/buttons/normal.png").add("Images/buttons/hard.png").add("Images/buttons/endless.png").add("Images/buttons/sound.png").add("Images/buttons/music.png").add("Images/buttons/credits.png").add("Images/creatures/monster1.png").add("Images/creatures/grand1.png").add("Images/creatures/love1.png").add("Images/creatures/police1.png").add("Images/creatures/child1.png").add("Images/creatures/tank_base.png").add("Images/creatures/tank.png").add(cps[0]).add(cps[1]).add(cps[2]).add(cps[3]).add(cps[4]).add(cps[5]).add(cps[6]).add("Images/Backgrounds/BackgroundPics/easy.png").add("Images/Backgrounds/BackgroundPics/normal.png").add("Images/Backgrounds/noise.png").load(setup);var monster1,bg0,bg1,bg2,bg3,bg2noise,creditPics=[],menuSprites=[],soundToggle,musicToggle,menuSoundVolume=.02,menuSound=new Howl({urls:["Music/menu.mp3"],loop:!0,volume:menuSoundVolume}),playSoundVolume=.1,playSound=new Howl({urls:["Music/ingame.mp3"],loop:!0,volume:playSoundVolume}),storySoundVolume=.05,storySound=new Howl({urls:["Music/story.mp3"],loop:!0,volume:storySoundVolume}),creditsSong=new Howl({urls:["Music/credits.mp3"],loop:!1,volume:.04}),storyModeTextBlock=new PIXI.Text(" --- IN A SECRET LABORATORY ---\n			[TRAINEE]\nHey Prof. What are you searching for in the laboratory number 4?\n			[PROFESSOR]\nPsst! Shut up you little Trainee.\nDon't speak too loud about this thing!\nWe got a female monster, it's very bloody,\nand we caged it into a human body.\nThere, it isn't dangerous anymore:\nno blood, no intrails, and no gore.\nWe're not doing this just for science you know.\nIt is for humanity, for every class, above and below.\n			[TRAINEE]\nBut isn't it dangerous to cage this thing?\nThere could be other monsters to free them!\n			[PROFESSOR]\nDon't be ridiculus, other monsters don't exist.\n --- THIS IS WHERE YOUR STORY BEGINS ---",{fill:"#FFFFFF",font:"20px 'Bree Serif'",align:"left"});storyModeTextBlock.position.set(50,26),storyC.addChild(storyModeTextBlock);var storyModeText=new Howl({urls:["Music/story_text.mp3"],loop:!1,volume:1,onend:function(){storyModeTextBlock.position.set(width/2,height/2),storyModeTextBlock.anchor={x:.5,y:.5},storyModeTextBlock.style.align="center",storyModeTextBlock.text=" --- YOU ARE THE MONSTER ---\nFind your loved one!\nBy hugging everyone as hard as you can!\n --- BUT BEWARE OF THE POLICE ---",window.setTimeout(function(){changeState(menu),storyTextReset()},1e4)}}),eatSound=new Howl({urls:["Sounds/eat.wav"],loop:!1,volume:.3}),selectSound=new Howl({urls:["Sounds/select.wav"],loop:!1,volume:.2}),endSound=new Howl({urls:["Sounds/end.wav"],loop:!1,volume:.1}),shootSound=new Howl({urls:["Sounds/shoot.wav"],loop:!1,volume:.1}),hitSound=new Howl({urls:["Sounds/hit.wav"],loop:!1,volume:.1}),hbc=new PIXI.Graphics,hb=new PIXI.Graphics,mousePos,creditUnroll=0,timers=[19e3,15e3,8e3,7e3,17e3,22e3],nextTimeOut,jumplength=80,numCasult=[8,15,10,12],casultArray=[],numPolice=[1,5,10,6],policeArray=[],numChildren=[10,15,5,10],childArray=[],numTanks=[0,0,2,1],tankArray=[],safeframecount=0;